import{j as a,G as i,a as o,x as p}from"./app-CQeDVQuS.js";import{L as d}from"./Label-B85Huc9I.js";import{u as g}from"./useTaskDrawerStore-Cjnssq_l.js";import{u}from"./useTasksStore-DWoe4t5E.js";import{i as h}from"./task-CIgkPjcY.js";import{s as x}from"./user-IyQLa11_.js";import{P as f}from"./dnd.esm-DKsujf8_.js";import j from"./TaskActions-Bm0zQS2I.js";import{c as r}from"./TaskRow.module-CxV18Yrb.js";import{F as w}from"./Flex-BgjLIV7l.js";import{c as _}from"./createReactComponent-Z0-s2Pq0.js";import{C as b}from"./Checkbox-DeGn4I36.js";import{T}from"./Tooltip-W_kFrwwB.js";import{P as y}from"./Pill-tisBWBts.js";import{T as k}from"./Text-C7Ogcti-.js";/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v=_("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);function M({task:e,index:m}){const{complete:n}=u(),{openEditTask:c}=g();return a.jsx(f,{draggableId:"task-"+e.id,index:m,children:(t,l)=>a.jsx(w,{...t.draggableProps,ref:t.innerRef,className:`${r.task} ${l.isDragging&&r.itemDragging} ${e.completed_at!==null&&r.completed}`,wrap:"nowrap",children:a.jsxs(i,{gap:"sm",wrap:"nowrap",w:"100%",children:[a.jsx("div",{...t.dragHandleProps,children:a.jsx(v,{style:{width:o(18),height:o(18),display:can("reorder task")?"inline":"none"},stroke:1.5,className:r.dragHandle})}),a.jsx(b,{size:"sm",radius:"xl",color:"green",checked:e.completed_at!==null,onChange:s=>n(e,s.currentTarget.checked),className:can("complete task")?r.checkbox:r.disabledCheckbox}),e.assigned_to_user&&a.jsx(p,{href:route("users.edit",e.assigned_to_user.id),children:a.jsx(T,{label:e.assigned_to_user.name,openDelay:1e3,withArrow:!0,children:a.jsx(y,{size:"sm",className:r.user,children:x(e.assigned_to_user.name)})})}),a.jsxs(k,{className:r.name,size:"sm",fw:500,truncate:"end",c:h(e)&&e.completed_at===null?"red.7":"",onClick:()=>c(e),children:["#",e.number+": "+e.name]}),a.jsx(i,{wrap:"nowrap",style:{rowGap:o(3),columnGap:o(12)},children:e.labels.map(s=>a.jsx(d,{name:s.name,color:s.color},s.id))}),(can("archive task")||can("restore task"))&&a.jsx(j,{task:e,className:r.actions})]})})})}const L=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{v as I,M as T,L as a};
