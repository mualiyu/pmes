import{r as l,aw as _e,j as h,B as F,f as fe,h as Y,i as me,u as Pe,l as te,$ as je,a as _,k as Me,a4 as X,q as Ne}from"./app-CQeDVQuS.js";import{C as be}from"./ColorSwatch-MAR8_92F.js";import{c as q}from"./clamp-DTmYCdls.js";import{u as Ee}from"./use-uncontrolled-DDoK6Wjp.js";function pe(t){return{x:q(t.x,0,1),y:q(t.y,0,1)}}function ve(t,e,r="ltr"){const s=l.useRef(null),a=l.useRef(!1),c=l.useRef(!1),n=l.useRef(0),[p,v]=l.useState(!1);return l.useEffect(()=>{a.current=!0},[]),l.useEffect(()=>{const o=s.current,i=({x:u,y:k})=>{cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(a.current&&o){o.style.userSelect="none";const P=o.getBoundingClientRect();if(P.width&&P.height){const C=q((u-P.left)/P.width,0,1);t({x:r==="ltr"?C:1-C,y:q((k-P.top)/P.height,0,1)})}}})},f=()=>{document.addEventListener("mousemove",S),document.addEventListener("mouseup",R),document.addEventListener("touchmove",b),document.addEventListener("touchend",R)},d=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",R),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",R)},m=()=>{!c.current&&a.current&&(c.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),v(!0),f())},R=()=>{c.current&&a.current&&(c.current=!1,v(!1),d(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},g=u=>{m(),u.preventDefault(),S(u)},S=u=>i({x:u.clientX,y:u.clientY}),j=u=>{u.cancelable&&u.preventDefault(),m(),b(u)},b=u=>{u.cancelable&&u.preventDefault(),i({x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY})};return o==null||o.addEventListener("mousedown",g),o==null||o.addEventListener("touchstart",j,{passive:!1}),()=>{o&&(o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",j))}},[r,t]),{ref:s,active:p}}const[Te,ae]=_e(null),ne=l.forwardRef(({position:t,...e},r)=>h.jsx(F,{ref:r,__vars:{"--thumb-y-offset":`${t.y*100}%`,"--thumb-x-offset":`${t.x*100}%`},...e}));ne.displayName="@mantine/core/ColorPickerThumb";var oe={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const Ae={},ce=fe((t,e)=>{var I;const r=Y("ColorSlider",Ae,t),{classNames:s,className:a,style:c,styles:n,unstyled:p,vars:v,onChange:o,onChangeEnd:i,maxValue:f,round:d,size:m="md",focusable:R=!0,value:g,overlays:S,thumbColor:j="transparent",onScrubStart:b,onScrubEnd:u,__staticSelector:k="ColorPicker",...P}=r,C=me({name:k,classes:oe,props:r,className:a,style:c,classNames:s,styles:n,unstyled:p}),D=((I=ae())==null?void 0:I.getStyles)||C,W=Pe(),[M,T]=l.useState({y:0,x:g/f}),N=l.useRef(M),A=x=>d?Math.round(x*f):x*f,{ref:z}=ve(({x,y})=>{N.current={x,y},o==null||o(A(x))},{onScrubEnd:()=>{const{x}=N.current;i==null||i(A(x)),u==null||u()},onScrubStart:b});te(()=>{T({y:0,x:g/f})},[g]);const L=(x,y)=>{x.preventDefault();const H=pe(y);o==null||o(A(H.x)),i==null||i(A(H.x))},U=x=>{switch(x.key){case"ArrowRight":{L(x,{x:M.x+.05,y:M.y});break}case"ArrowLeft":{L(x,{x:M.x-.05,y:M.y});break}}},V=S.map((x,y)=>l.createElement("div",{...D("sliderOverlay"),style:x,key:y}));return h.jsxs(F,{...P,ref:je(z,e),...D("slider"),role:"slider","aria-valuenow":g,"aria-valuemax":f,"aria-valuemin":0,tabIndex:R?0:-1,onKeyDown:U,"data-focus-ring":W.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${m})`},children:[V,h.jsx(ne,{position:M,...D("thumb",{style:{top:_(1),background:j}})})]})});ce.displayName="@mantine/core/ColorSlider";function $(t,e=0,r=10**e){return Math.round(r*t)/r}function Ce({h:t,s:e,l:r,a:s}){const a=e*((r<50?r:100-r)/100);return{h:t,s:a>0?2*a/(r+a)*100:0,v:r+a,a:s}}const Le={grad:360/400,turn:360,rad:360/(Math.PI*2)};function Ie(t,e="deg"){return Number(t)*(Le[e]||1)}const He=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function ie(t){const e=He.exec(t);return e?Ce({h:Ie(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}}function re({r:t,g:e,b:r,a:s}){const a=Math.max(t,e,r),c=a-Math.min(t,e,r),n=c?a===t?(e-r)/c:a===e?2+(r-t)/c:4+(t-e)/c:0;return{h:$(60*(n<0?n+6:n),3),s:$(a?c/a*100:0,3),v:$(a/255*100,3),a:s}}function se(t){const e=t[0]==="#"?t.slice(1):t;return e.length===3?re({r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}):re({r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:1})}function Oe(t){const e=t[0]==="#"?t.slice(1):t,r=n=>$(parseInt(n,16)/255,3);if(e.length===4){const n=e.slice(0,3),p=r(e[3]+e[3]);return{...se(n),a:p}}const s=e.slice(0,6),a=r(e.slice(6,8));return{...se(s),a}}const De=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function le(t){const e=De.exec(t);return e?re({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}}const xe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},ze={hex:se,hexa:Oe,rgb:le,rgba:le,hsl:ie,hsla:ie};function Ve(t){for(const[,e]of Object.entries(xe))if(e.test(t))return!0;return!1}function B(t){if(typeof t!="string")return{h:0,s:0,v:0,a:1};if(t==="transparent")return{h:0,s:0,v:0,a:0};const e=t.trim();for(const[r,s]of Object.entries(xe))if(s.test(e))return ze[r](e);return{h:0,s:0,v:0,a:1}}const Fe={},ge=l.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:a,color:c,...n}=Y("AlphaSlider",Fe,t);return h.jsx(ce,{...n,ref:e,value:r,onChange:p=>s==null?void 0:s($(p,2)),onChangeEnd:p=>a==null?void 0:a($(p,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${_(8)} ${_(8)}`,backgroundPosition:`0 0, 0 ${_(4)}, ${_(4)} ${_(-4)}, ${_(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${c})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${_(1)} inset, rgb(0, 0, 0, .15) 0 0 ${_(4)} inset`}]})});ge.displayName="@mantine/core/AlphaSlider";function ye({h:t,s:e,v:r,a:s}){const a=t/360*6,c=e/100,n=r/100,p=Math.floor(a),v=n*(1-c),o=n*(1-(a-p)*c),i=n*(1-(1-a+p)*c),f=p%6;return{r:$([n,o,v,v,i,n][f]*255),g:$([i,n,n,o,v,v][f]*255),b:$([v,v,i,n,n,o][f]*255),a:$(s,2)}}function de(t,e){const{r,g:s,b:a,a:c}=ye(t);return e?`rgba(${r}, ${s}, ${a}, ${$(c,2)})`:`rgb(${r}, ${s}, ${a})`}function he({h:t,s:e,v:r,a:s},a){const c=(200-e)*r/100,n={h:Math.round(t),s:Math.round(c>0&&c<200?e*r/100/(c<=100?c:200-c)*100:0),l:Math.round(c/2)};return a?`hsla(${n.h}, ${n.s}%, ${n.l}%, ${$(s,2)})`:`hsl(${n.h}, ${n.s}%, ${n.l}%)`}function K(t){const e=t.toString(16);return e.length<2?`0${e}`:e}function we(t){const{r:e,g:r,b:s}=ye(t);return`#${K(e)}${K(r)}${K(s)}`}function Ge(t){const e=Math.round(t.a*255);return`${we(t)}${K(e)}`}const ee={hex:we,hexa:t=>Ge(t),rgb:t=>de(t,!1),rgba:t=>de(t,!0),hsl:t=>he(t,!1),hsla:t=>he(t,!0)};function E(t,e){return e?t in ee?ee[t](e):ee.hex(e):"#000000"}const Se=l.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:a,color:c,...n}=Y("HueSlider",{},t);return h.jsx(ce,{...n,ref:e,value:r,onChange:s,onChangeEnd:a,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${_(1)} inset, rgb(0, 0, 0, .15) 0 0 ${_(4)} inset`}]})});Se.displayName="@mantine/core/HueSlider";function $e({className:t,onChange:e,onChangeEnd:r,value:s,saturationLabel:a,focusable:c=!0,size:n,color:p,onScrubStart:v,onScrubEnd:o,...i}){const{getStyles:f}=ae(),[d,m]=l.useState({x:s.s/100,y:1-s.v/100}),R=l.useRef(d),{ref:g}=ve(({x:b,y:u})=>{R.current={x:b,y:u},e({s:Math.round(b*100),v:Math.round((1-u)*100)})},{onScrubEnd:()=>{const{x:b,y:u}=R.current;r({s:Math.round(b*100),v:Math.round((1-u)*100)}),o==null||o()},onScrubStart:v});l.useEffect(()=>{m({x:s.s/100,y:1-s.v/100})},[s.s,s.v]);const S=(b,u)=>{b.preventDefault();const k=pe(u);e({s:Math.round(k.x*100),v:Math.round((1-k.y)*100)}),r({s:Math.round(k.x*100),v:Math.round((1-k.y)*100)})},j=b=>{switch(b.key){case"ArrowUp":{S(b,{y:d.y-.05,x:d.x});break}case"ArrowDown":{S(b,{y:d.y+.05,x:d.x});break}case"ArrowRight":{S(b,{x:d.x+.05,y:d.y});break}case"ArrowLeft":{S(b,{x:d.x-.05,y:d.y});break}}};return h.jsxs(F,{...f("saturation"),ref:g,...i,role:"slider","aria-label":a,"aria-valuenow":d.x,"aria-valuetext":E("rgba",s),tabIndex:c?0:-1,onKeyDown:j,children:[h.jsx("div",{...f("saturationOverlay",{style:{backgroundColor:`hsl(${s.h}, 100%, 50%)`}})}),h.jsx("div",{...f("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),h.jsx("div",{...f("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),h.jsx(ne,{position:d,...f("thumb",{style:{backgroundColor:p}})})]})}$e.displayName="@mantine/core/Saturation";const Re=l.forwardRef(({className:t,datatype:e,setValue:r,onChangeEnd:s,size:a,focusable:c,data:n,swatchesPerRow:p,...v},o)=>{const i=ae(),f=n.map((d,m)=>l.createElement(be,{...i.getStyles("swatch"),unstyled:i.unstyled,component:"button",type:"button",color:d,key:m,radius:"sm",onClick:()=>{r(d),s==null||s(d)},"aria-label":d,tabIndex:c?0:-1,"data-swatch":!0}));return h.jsx(F,{...i.getStyles("swatches"),ref:o,...v,children:f})});Re.displayName="@mantine/core/Swatches";const Ue={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Xe=Me((t,{size:e,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":X(e,"cp-preview-size"),"--cp-width":X(e,"cp-width"),"--cp-body-spacing":Ne(e),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":X(e,"cp-thumb-size"),"--cp-saturation-height":X(e,"cp-saturation-height")}})),ke=fe((t,e)=>{const r=Y("ColorPicker",Ue,t),{classNames:s,className:a,style:c,styles:n,unstyled:p,vars:v,format:o,value:i,defaultValue:f,onChange:d,onChangeEnd:m,withPicker:R,size:g,saturationLabel:S,hueLabel:j,alphaLabel:b,focusable:u,swatches:k,swatchesPerRow:P,fullWidth:C,onColorSwatchClick:G,__staticSelector:D,mod:W,...M}=r,T=me({name:D,props:r,classes:oe,className:a,style:c,classNames:s,styles:n,unstyled:p,rootSelector:"wrapper",vars:v,varsResolver:Xe}),N=l.useRef(o),A=l.useRef(""),z=l.useRef(-1),L=l.useRef(!1),U=o==="hexa"||o==="rgba"||o==="hsla",[V,I,x]=Ee({value:i,defaultValue:f,finalValue:"#FFFFFF",onChange:d}),[y,H]=l.useState(B(V)),J=()=>{window.clearTimeout(z.current),L.current=!0},Q=()=>{window.clearTimeout(z.current),z.current=window.setTimeout(()=>{L.current=!1},200)},Z=w=>{H(O=>{const ue={...O,...w};return A.current=E(N.current,ue),ue}),I(A.current)};return te(()=>{Ve(i)&&!L.current&&H(B(i))},[i]),te(()=>{N.current=o,I(E(o,y))},[o]),h.jsx(Te,{value:{getStyles:T,unstyled:p},children:h.jsxs(F,{ref:e,...T("wrapper"),size:g,mod:[{"full-width":C},W],...M,children:[R&&h.jsxs(h.Fragment,{children:[h.jsx($e,{value:y,onChange:Z,onChangeEnd:({s:w,v:O})=>m==null?void 0:m(E(N.current,{...y,s:w,v:O})),color:V,size:g,focusable:u,saturationLabel:S,onScrubStart:J,onScrubEnd:Q}),h.jsxs("div",{...T("body"),children:[h.jsxs("div",{...T("sliders"),children:[h.jsx(Se,{value:y.h,onChange:w=>Z({h:w}),onChangeEnd:w=>m==null?void 0:m(E(N.current,{...y,h:w})),size:g,focusable:u,"aria-label":j,onScrubStart:J,onScrubEnd:Q}),U&&h.jsx(ge,{value:y.a,onChange:w=>Z({a:w}),onChangeEnd:w=>{m==null||m(E(N.current,{...y,a:w}))},size:g,color:E("hex",y),focusable:u,"aria-label":b,onScrubStart:J,onScrubEnd:Q})]}),U&&h.jsx(be,{color:V,radius:"sm",size:"var(--cp-preview-size)",...T("preview")})]})]}),Array.isArray(k)&&h.jsx(Re,{data:k,swatchesPerRow:P,focusable:u,setValue:I,onChangeEnd:w=>{const O=E(o,B(w));G==null||G(O),m==null||m(O),x||H(B(w))}})]})})});ke.classes=oe;ke.displayName="@mantine/core/ColorPicker";export{ke as C,E as c,Ve as i,B as p};
