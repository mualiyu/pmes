import{r as p,j as e}from"./app-CQeDVQuS.js";const S=[{id:"1",name:"Website Redesign",startDate:new Date("2024-01-15"),endDate:new Date("2024-04-30"),priority:"High",color:"#3b82f6"},{id:"2",name:"Mobile App Development",startDate:new Date("2024-02-01"),endDate:new Date("2024-08-15"),priority:"High",color:"#ef4444"},{id:"3",name:"Marketing Campaign",startDate:new Date("2024-03-01"),endDate:new Date("2024-06-30"),priority:"Medium",color:"#f59e0b"}];function Y({projects:u=S,title:D="Project Timeline",className:j=""}){const[y,N]=p.useState("month"),o=p.useMemo(()=>{const a=new Date().getFullYear(),n=u.flatMap(r=>[r.startDate,r.endDate]),i=new Date(Math.min(...n.map(r=>r.getTime()))),c=new Date(Math.max(...n.map(r=>r.getTime()))),s=Math.min(i.getFullYear(),a),l=Math.max(c.getFullYear(),a+5);switch(y){case"year":return{start:new Date(s,0,1),end:new Date(l,11,31),intervals:Array.from({length:l-s+1},(h,d)=>({date:new Date(s+d,0,1),label:(s+d).toString(),width:120})),unitWidth:120};case"month":const r=[];for(let h=s;h<=l;h++)for(let d=0;d<12;d++)r.push({date:new Date(h,d,1),label:new Date(h,d,1).toLocaleDateString("en-US",{month:"short",year:"2-digit"}),width:80});return{start:new Date(s,0,1),end:new Date(l,11,31),intervals:r,unitWidth:80};case"week":const x=[],P=new Date(a,0,1),b=new Date(a+1,0,1),m=new Date(P),f=m.getDay(),W=f===0?1:8-f;m.setDate(m.getDate()+W);let v=1;const g=new Date(m);for(;g<b;)x.push({date:new Date(g),label:`Week ${v}`,width:100}),g.setDate(g.getDate()+7),v++;return{start:m,end:b,intervals:x,unitWidth:100};default:return{start:new Date(s,0,1),end:new Date(l,11,31),intervals:[],unitWidth:80}}},[y,u]),T=t=>{const{start:a,end:n,unitWidth:i}=o,c=n.getTime()-a.getTime(),s=Math.max(t.startDate.getTime(),a.getTime()),l=Math.min(t.endDate.getTime(),n.getTime()),r=(s-a.getTime())/c*(o.intervals.length*i),x=(l-s)/c*(o.intervals.length*i);return{left:r,width:Math.max(x,10)}},k=t=>{switch(t){case"High":return"bg-red-100 text-red-800 border-red-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=(()=>{const t=new Date,{start:a,end:n,unitWidth:i}=o;if(t<a||t>n)return null;const c=n.getTime()-a.getTime();return(t.getTime()-a.getTime())/c*(o.intervals.length*i)})(),M=new Date;return e.jsxs("div",{className:`w-full bg-white rounded-lg shadow-sm border border-gray-200 ${j}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:D}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Today:"," ",M.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:y,onChange:t=>N(t.target.value),className:"appearance-none bg-white border border-gray-300 rounded-md px-4 py-2 pr-8 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"year",children:"Year"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"week",children:"Week"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-max relative",children:[e.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[e.jsx("div",{className:"w-64 flex-shrink-0 py-3 px-4 font-semibold text-gray-700",children:"Project"}),e.jsx("div",{className:"flex",children:o.intervals.map((t,a)=>e.jsx("div",{className:"py-3 px-2 text-center text-sm font-medium text-gray-600 border-l border-gray-100",style:{width:t.width},children:t.label},a))})]}),u.map(t=>{const a=T(t);return e.jsxs("div",{className:"flex items-center border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"w-64 flex-shrink-0 py-4 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-2",children:t.name}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${k(t.priority)}`,children:t.priority})]}),e.jsxs("div",{className:"relative flex-1",style:{height:"60px"},children:[e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 rounded-md shadow-sm opacity-90 hover:opacity-100 transition-opacity cursor-pointer",style:{left:`${a.left}px`,width:`${a.width}px`,height:"24px",backgroundColor:t.color},title:`${t.name}: ${t.startDate.toLocaleDateString()} - ${t.endDate.toLocaleDateString()}`}),o.intervals.map((n,i)=>e.jsx("div",{className:"absolute top-0 bottom-0 border-l border-gray-100",style:{left:i*o.unitWidth}},i))]})]},t.id)}),w!==null&&e.jsx("div",{className:"absolute top-0 bottom-0 pointer-events-none z-10",style:{left:`${264+w}px`},children:e.jsxs("div",{className:"w-0.5 h-full bg-red-500 relative",children:[e.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-red-500 rounded-full"}),e.jsx("div",{className:"absolute -bottom-6 -left-8 text-xs text-red-600 font-medium whitespace-nowrap",children:"Today"})]})})]})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),e.jsx("span",{children:"High Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500"}),e.jsx("span",{children:"Medium Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),e.jsx("span",{children:"Low Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-0.5 h-4 bg-red-500"}),e.jsx("span",{children:"Today"})]})]})})]})]})}export{Y as default};
