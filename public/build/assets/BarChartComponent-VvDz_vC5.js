import{r as l,c as ke,j}from"./app-CQeDVQuS.js";import{y as q,B as $,r as Be,u as le,R as Ee,S as je,j as we,k as Se,l as Ce,G as De,m as ue,n as Ke,O as _e,p as R,w as ce,L as N,P as Me,Q as Le,U as H,V as de,t as ze,W as ve,z as Te,J as Re,A as C,D as Ne,E as Fe,F as $e,X as Ve,C as We,Y as ee,c as S,Z as Ge,_ as Xe,a as D,b as K,s as _,d as Ye,f as fe,h as pe,$ as me,a0 as Je,a1 as Ue,e as ae,g as Qe,a2 as Ze,a3 as re,a4 as qe,a5 as G,I as te,K as He,M as ea,T as aa,N as ra}from"./CategoricalChart-mkZhRs6D.js";import{u as ta,G as ia,C as na,a as oa,X as sa,Y as la}from"./CartesianChart-CsxSiFdR.js";import{S as ua,C as ca,u as he,a as ye,b as ge}from"./tooltipContext-Bx3C6R0y.js";import{i as da}from"./tiny-invariant-BaFNuDhB.js";import{S as va}from"./ErrorBarContext-eH5xba6k.js";import"./index-B7NuNxoC.js";import"./with-selector-Dx34AVcc.js";var fa=["x","y"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},X.apply(null,arguments)}function ie(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function M(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ie(Object(r),!0).forEach(function(t){pa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pa(e,a,r){return(a=ma(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ma(e){var a=ha(e,"string");return typeof a=="symbol"?a:a+""}function ha(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ya(e,a){if(e==null)return{};var r,t,n=ga(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ga(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function xa(e,a){var{x:r,y:t}=e,n=ya(e,fa),i="".concat(r),o=parseInt(i,10),u="".concat(t),v=parseInt(u,10),s="".concat(a.height||n.height),c=parseInt(s,10),d="".concat(a.width||n.width),m=parseInt(d,10);return M(M(M(M(M({},a),n),o?{x:o}:{}),v?{y:v}:{}),{},{height:c,width:m,name:a.name,radius:a.radius})}function Y(e){return l.createElement(ua,X({shapeType:"rectangle",propTransformer:xa,activeClassName:"recharts-active-bar"},e))}var ba=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,n)=>{if(q(a))return a;var i=q(t)||$(t);return i?a(t,n):(i||da(),r)}},Pa=["onMouseEnter","onMouseLeave","onClick"],Aa=["value","background","tooltipPosition"],Oa=["id"],Ia=["onMouseEnter","onClick","onMouseLeave"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},w.apply(null,arguments)}function ne(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function I(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ne(Object(r),!0).forEach(function(t){ka(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ka(e,a,r){return(a=Ba(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Ba(e){var a=Ea(e,"string");return typeof a=="symbol"?a:a+""}function Ea(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function F(e,a){if(e==null)return{};var r,t,n=ja(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ja(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var wa=e=>{var{dataKey:a,name:r,fill:t,legendType:n,hide:i}=e;return[{inactive:i,dataKey:a,type:n,color:t,value:ue(r,a),payload:e}]};function Sa(e){var{dataKey:a,stroke:r,strokeWidth:t,fill:n,name:i,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:t,fill:n,dataKey:a,nameKey:void 0,name:ue(i,a),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function Ca(e){var a=R(de),{data:r,dataKey:t,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:u,onClick:v}=i,s=F(i,Pa),c=he(o,t),d=ye(u),m=ge(v,t);if(!n||r==null)return null;var x=ze(n,!1);return l.createElement(l.Fragment,null,r.map((b,h)=>{var{value:f,background:p,tooltipPosition:g}=b,P=F(b,Aa);if(!p)return null;var y=c(b,h),k=d(b,h),O=m(b,h),A=I(I(I(I(I({option:n,isActive:String(h)===a},P),{},{fill:"#eee"},p),x),ve(s,b,h)),{},{onMouseEnter:y,onMouseLeave:k,onClick:O,dataKey:t,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(Y,w({key:"background-bar-".concat(A.index)},A))}))}function Da(e){var{showLabels:a,children:r,rects:t}=e,n=t==null?void 0:t.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return I(I({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return l.createElement(Fe,{value:a?n:void 0},r)}function Ka(e){var{shape:a,activeBar:r,baseProps:t,entry:n,index:i,dataKey:o}=e,u=R(de),v=R(Ve),s=r&&String(i)===u&&(v==null||o===v),c=s?r:a;return l.createElement(Y,w({},t,n,{isActive:s,option:c,index:i,dataKey:o}))}function _a(e){var{shape:a,baseProps:r,entry:t,index:n,dataKey:i}=e;return l.createElement(Y,w({},r,t,{isActive:!1,option:a,index:n,dataKey:i}))}function Ma(e){var{data:a,props:r}=e,t=$e(r),{id:n}=t,i=F(t,Oa),{shape:o,dataKey:u,activeBar:v}=r,{onMouseEnter:s,onClick:c,onMouseLeave:d}=r,m=F(r,Ia),x=he(s,u),b=ye(d),h=ge(c,u);return a?l.createElement(l.Fragment,null,a.map((f,p)=>l.createElement(N,w({className:"recharts-bar-rectangle"},ve(m,f,p),{onMouseEnter:x(f,p),onMouseLeave:b(f,p),onClick:h(f,p),key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),v?l.createElement(Ka,{shape:o,activeBar:v,baseProps:i,entry:f,index:p,dataKey:u}):l.createElement(_a,{shape:o,baseProps:i,entry:f,index:p,dataKey:u})))):null}function La(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:v,onAnimationEnd:s,onAnimationStart:c}=a,d=r.current,m=Te(a,"recharts-bar-"),[x,b]=l.useState(!1),h=!x,f=l.useCallback(()=>{typeof s=="function"&&s(),b(!1)},[s]),p=l.useCallback(()=>{typeof c=="function"&&c(),b(!0)},[c]);return l.createElement(Da,{showLabels:h,rects:t},l.createElement(Re,{animationId:m,begin:o,duration:u,isActive:i,easing:v,onAnimationEnd:f,onAnimationStart:p,key:m},g=>{var P=g===1?t:t==null?void 0:t.map((y,k)=>{var O=d&&d[k];if(O)return I(I({},y),{},{x:C(O.x,y.x,g),y:C(O.y,y.y,g),width:C(O.width,y.width,g),height:C(O.height,y.height,g)});if(n==="horizontal"){var A=C(0,y.height,g);return I(I({},y),{},{y:y.y+y.height-A,height:A})}var B=C(0,y.width,g);return I(I({},y),{},{width:B})});return g>0&&(r.current=P??null),P==null?null:l.createElement(N,null,l.createElement(Ma,{props:a,data:P}))}),l.createElement(Ne,{label:a.label}),a.children)}function za(e){var a=l.useRef(null);return l.createElement(La,{previousRectanglesRef:a,props:e})}var xe=0,Ta=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ce(e,a)}};class Ra extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:n,xAxisId:i,yAxisId:o,needClip:u,background:v,id:s}=this.props;if(a||r==null)return null;var c=ke("recharts-bar",n),d=s;return l.createElement(N,{className:c,id:s},u&&l.createElement("defs",null,l.createElement(ia,{clipPathId:d,xAxisId:i,yAxisId:o})),l.createElement(N,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(d,")"):void 0},l.createElement(Ca,{data:r,dataKey:t,background:v,allOtherBarProps:this.props}),l.createElement(za,this.props)))}}var Na={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!De.isSsr,legendType:"rect",minPointSize:xe,xAxisId:0,yAxisId:0};function Fa(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:v,animationEasing:s,isAnimationActive:c}=e,{needClip:d}=ta(a,r),m=Ke(),x=le(),b=_e(e.children,ca),h=R(g=>mr(g,a,r,x,e.id,b));if(m!=="vertical"&&m!=="horizontal")return null;var f,p=h==null?void 0:h[0];return p==null||p.height==null||p.width==null?f=0:f=m==="vertical"?p.height/2:p.width/2,l.createElement(va,{xAxisId:a,yAxisId:r,data:h,dataPointFormatter:Ta,errorBarOffset:f},l.createElement(Ra,w({},e,{layout:m,needClip:d,data:h,xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:v,animationEasing:s,isAnimationActive:c})))}function $a(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:n,bandSize:i,xAxis:o,yAxis:u,xAxisTicks:v,yAxisTicks:s,stackedData:c,displayedData:d,offset:m,cells:x,parentViewBox:b}=e,h=a==="horizontal"?u:o,f=c?h.scale.domain():null,p=Me({numericAxis:h});return d.map((g,P)=>{var y,k,O,A,B,V;c?y=Le(c[P],f):(y=ce(g,r),Array.isArray(y)||(y=[p,y]));var E=ba(t,xe)(y[1],P);if(a==="horizontal"){var W,[J,z]=[u.scale(y[0]),u.scale(y[1])];k=H({axis:o,ticks:v,bandSize:i,offset:n.offset,entry:g,index:P}),O=(W=z??J)!==null&&W!==void 0?W:void 0,A=n.size;var U=J-z;if(B=We(U)?0:U,V={x:k,y:m.top,width:A,height:m.height},Math.abs(E)>0&&Math.abs(B)<Math.abs(E)){var Q=ee(B||E)*(Math.abs(E)-Math.abs(B));O-=Q,B+=Q}}else{var[Z,Ae]=[o.scale(y[0]),o.scale(y[1])];if(k=Z,O=H({axis:u,ticks:s,bandSize:i,offset:n.offset,entry:g,index:P}),A=Ae-Z,B=n.size,V={x:m.left,y:O,width:m.width,height:B},Math.abs(E)>0&&Math.abs(A)<Math.abs(E)){var Oe=ee(A||E)*(Math.abs(E)-Math.abs(A));A+=Oe}}if(k==null||O==null||A==null||B==null)return null;var Ie=I(I({},g),{},{x:k,y:O,width:A,height:B,value:c?y:y[1],payload:g,background:V,tooltipPosition:{x:k+A/2,y:O+B/2},parentViewBox:b},x&&x[P]&&x[P].props);return Ie}).filter(Boolean)}function Va(e){var a=Be(e,Na),r=le();return l.createElement(Ee,{id:a.id,type:"bar"},t=>l.createElement(l.Fragment,null,l.createElement(je,{legendPayload:wa(a)}),l.createElement(we,{fn:Sa,args:a}),l.createElement(Se,{type:"bar",id:t,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:Ce(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:r}),l.createElement(Fa,w({},a,{id:t}))))}var be=l.memo(Va);be.displayName="Bar";function oe(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function T(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?oe(Object(r),!0).forEach(function(t){Wa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wa(e,a,r){return(a=Ga(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Ga(e){var a=Xa(e,"string");return typeof a=="symbol"?a:a+""}function Xa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ya=(e,a)=>a,Ja=(e,a,r)=>r,Ua=(e,a,r,t)=>t,Qa=(e,a,r,t,n)=>n,L=S([pe,Qa],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),Za=S([L],e=>e==null?void 0:e.maxBarSize),qa=(e,a,r,t,n,i)=>i,se=(e,a,r)=>{var t=r??e;if(!$(t))return G(t,a,0)},Ha=S([_,pe,Ya,Ja,Ua],(e,a,r,t,n)=>a.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===t).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),er=(e,a,r,t)=>{var n=_(e);return n==="horizontal"?ae(e,"yAxis",r,t):ae(e,"xAxis",a,t)},ar=(e,a,r)=>{var t=_(e);return t==="horizontal"?re(e,"xAxis",a):re(e,"yAxis",r)},rr=(e,a,r)=>{var t={},n=e.filter(qe),i=e.filter(s=>s.stackId==null),o=n.reduce((s,c)=>(s[c.stackId]||(s[c.stackId]=[]),s[c.stackId].push(c),s),t),u=Object.entries(o).map(s=>{var[c,d]=s,m=d.map(b=>b.dataKey),x=se(a,r,d[0].barSize);return{stackId:c,dataKeys:m,barSize:x}}),v=i.map(s=>{var c=[s.dataKey].filter(m=>m!=null),d=se(a,r,s.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...u,...v]},tr=S([Ha,Ze,ar],rr),ir=(e,a,r,t,n)=>{var i,o,u=L(e,a,r,t,n);if(u!=null){var v=_(e),s=me(e),{maxBarSize:c}=u,d=$(c)?s:c,m,x;return v==="horizontal"?(m=D(e,"xAxis",a,t),x=K(e,"xAxis",a,t)):(m=D(e,"yAxis",r,t),x=K(e,"yAxis",r,t)),(i=(o=fe(m,x,!0))!==null&&o!==void 0?o:d)!==null&&i!==void 0?i:0}},Pe=(e,a,r,t)=>{var n=_(e),i,o;return n==="horizontal"?(i=D(e,"xAxis",a,t),o=K(e,"xAxis",a,t)):(i=D(e,"yAxis",r,t),o=K(e,"yAxis",r,t)),fe(i,o)};function nr(e,a,r,t,n){var i=t.length;if(!(i<1)){var o=G(e,r,0,!0),u,v=[];if(te(t[0].barSize)){var s=!1,c=r/i,d=t.reduce((p,g)=>p+(g.barSize||0),0);d+=(i-1)*o,d>=r&&(d-=(i-1)*o,o=0),d>=r&&c>0&&(s=!0,c*=.9,d=i*c);var m=(r-d)/2>>0,x={offset:m-o,size:0};u=t.reduce((p,g)=>{var P,y={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:x.offset+x.size+o,size:s?c:(P=g.barSize)!==null&&P!==void 0?P:0}},k=[...p,y];return x=k[k.length-1].position,k},v)}else{var b=G(a,r,0,!0);r-2*b-(i-1)*o<=0&&(o=0);var h=(r-2*b-(i-1)*o)/i;h>1&&(h>>=0);var f=te(n)?Math.min(h,n):h;u=t.reduce((p,g,P)=>[...p,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:b+(h+o)*P+(h-f)/2,size:f}}],v)}return u}}var or=(e,a,r,t,n,i,o)=>{var u=$(o)?a:o,v=nr(r,t,n!==i?n:i,e,u);return n!==i&&v!=null&&(v=v.map(s=>T(T({},s),{},{position:T(T({},s.position),{},{offset:s.position.offset-n/2})}))),v},sr=S([tr,me,Je,Ue,ir,Pe,Za],or),lr=(e,a,r,t)=>D(e,"xAxis",a,t),ur=(e,a,r,t)=>D(e,"yAxis",r,t),cr=(e,a,r,t)=>K(e,"xAxis",a,t),dr=(e,a,r,t)=>K(e,"yAxis",r,t),vr=S([sr,L],(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}}),fr=(e,a)=>{var r=Qe(a);if(!(!e||r==null||a==null)){var{stackId:t}=a;if(t!=null){var n=e[t];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===r)}}}},pr=S([er,L],fr),mr=S([Ge,Xe,lr,ur,cr,dr,vr,_,Ye,Pe,pr,L,qa],(e,a,r,t,n,i,o,u,v,s,c,d,m)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:h}=v;if(!(d==null||o==null||a==null||u!=="horizontal"&&u!=="vertical"||r==null||t==null||n==null||i==null||s==null)){var{data:f}=d,p;if(f!=null&&f.length>0?p=f:p=x==null?void 0:x.slice(b,h+1),p!=null)return $a({layout:u,barSettings:d,pos:o,parentViewBox:a,bandSize:s,xAxis:r,yAxis:t,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:p,offset:e,cells:m})}}),hr=["axis","item"],yr=l.forwardRef((e,a)=>l.createElement(na,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hr,tooltipPayloadSearcher:He,categoricalChartProps:e,ref:a}));const Br=({data:e,dataKeys:a=[],xAxisKey:r="date"})=>{const t=["#228be6","#40c057","#fab005","#fd7e14","#e64980","#be4bdb"];return j.jsx(ea,{width:"100%",height:"100%",children:j.jsxs(yr,{data:e,children:[j.jsx(oa,{strokeDasharray:"3 3"}),j.jsx(sa,{dataKey:r}),j.jsx(la,{}),j.jsx(aa,{}),j.jsx(ra,{}),a.map((n,i)=>j.jsx(be,{dataKey:n.dataKey,name:n.name||n.dataKey,fill:t[i%t.length]},n.dataKey))]})})};export{Br as default};
