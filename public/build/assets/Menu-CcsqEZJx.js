import{r as D,s as ne,f as O,h as P,j as g,B as W,$ as G,z as re,u as ae,a0 as ce,a1 as ie,U as le,a2 as de,i as ue,l as pe,a3 as me}from"./app-CQeDVQuS.js";import{u as fe}from"./use-resolved-styles-api-BXRJnP4G.js";import{P as $}from"./Popover-CRA-5r7S.js";import{u as ge}from"./use-uncontrolled-DDoK6Wjp.js";function _(s,o){let e=s;for(;(e=e.parentElement)&&!e.matches(o););return e}function he(s,o,e){for(let t=s-1;t>=0;t-=1)if(!o[t].disabled)return t;if(e){for(let t=o.length-1;t>-1;t-=1)if(!o[t].disabled)return t}return s}function we(s,o,e){for(let t=s+1;t<o.length;t+=1)if(!o[t].disabled)return t;if(e){for(let t=0;t<o.length;t+=1)if(!o[t].disabled)return t}return s}function ve(s,o,e){return _(s,e)===_(o,e)}function ye({parentSelector:s,siblingSelector:o,onKeyDown:e,loop:t=!0,activateOnFocus:i=!1,dir:n="rtl",orientation:l}){return r=>{var v;e==null||e(r);const a=Array.from(((v=_(r.currentTarget,s))==null?void 0:v.querySelectorAll(o))||[]).filter(c=>ve(r.currentTarget,c,s)),p=a.findIndex(c=>r.currentTarget===c),m=we(p,a,t),f=he(p,a,t),u=n==="rtl"?f:m,d=n==="rtl"?m:f;switch(r.key){case"ArrowRight":{l==="horizontal"&&(r.stopPropagation(),r.preventDefault(),a[u].focus(),i&&a[u].click());break}case"ArrowLeft":{l==="horizontal"&&(r.stopPropagation(),r.preventDefault(),a[d].focus(),i&&a[d].click());break}case"ArrowUp":{l==="vertical"&&(r.stopPropagation(),r.preventDefault(),a[f].focus(),i&&a[f].click());break}case"ArrowDown":{l==="vertical"&&(r.stopPropagation(),r.preventDefault(),a[m].focus(),i&&a[m].click());break}case"Home":{r.stopPropagation(),r.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{r.stopPropagation(),r.preventDefault();const c=a.length-1;!a[c].disabled&&a[c].focus();break}}}}function h(s,o){return e=>{s==null||s(e),o==null||o(e)}}function xe(s,o,e){var t;return e?Array.from(((t=_(e,o))==null?void 0:t.querySelectorAll(s))||[]).findIndex(i=>i===e):null}function Me(){const[s,o]=D.useState(-1);return[s,{setHovered:o,resetHovered:()=>o(-1)}]}function De({open:s,close:o,openDelay:e,closeDelay:t}){const i=D.useRef(-1),n=D.useRef(-1),l=()=>{window.clearTimeout(i.current),window.clearTimeout(n.current)},r=()=>{l(),e===0||e===void 0?s():i.current=window.setTimeout(s,e)},a=()=>{l(),t===0||t===void 0?o():n.current=window.setTimeout(o,t)};return D.useEffect(()=>l,[]),{openDropdown:r,closeDropdown:a}}const[Ie,N]=ne("Menu component was not found in the tree");var C={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const be={},U=O((s,o)=>{const{classNames:e,className:t,style:i,styles:n,vars:l,...r}=P("MenuDivider",be,s),a=N();return g.jsx(W,{ref:o,...a.getStyles("divider",{className:t,style:i,styles:n,classNames:e}),...r})});U.classes=C;U.displayName="@mantine/core/MenuDivider";const ke={},V=O((s,o)=>{const{classNames:e,className:t,style:i,styles:n,vars:l,onMouseEnter:r,onMouseLeave:a,onKeyDown:p,children:m,...f}=P("MenuDropdown",ke,s),u=D.useRef(null),d=N(),v=h(p,y=>{var x,T;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(T=(x=u.current)==null?void 0:x.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||T.focus())}),c=h(r,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.openDropdown()),I=h(a,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.closeDropdown());return g.jsxs($.Dropdown,{...f,onMouseEnter:c,onMouseLeave:I,role:"menu","aria-orientation":"vertical",ref:G(o,u),...d.getStyles("dropdown",{className:t,style:i,styles:n,classNames:e,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v,children:[d.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),m]})});V.classes=C;V.displayName="@mantine/core/MenuDropdown";const Se={},H=re((s,o)=>{const{classNames:e,className:t,style:i,styles:n,vars:l,color:r,closeMenuOnClick:a,leftSection:p,rightSection:m,children:f,disabled:u,"data-disabled":d,...v}=P("MenuItem",Se,s),c=N(),I=ae(),{dir:y}=ce(),x=D.useRef(null),T=c.getItemIndex(x.current),k=v,E=h(k.onMouseLeave,()=>c.setHovered(-1)),j=h(k.onMouseEnter,()=>c.setHovered(c.getItemIndex(x.current))),A=h(k.onClick,()=>{d||(typeof a=="boolean"?a&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately())}),R=h(k.onFocus,()=>c.setHovered(c.getItemIndex(x.current))),b=r?I.variantColorResolver({color:r,theme:I,variant:"light"}):void 0,M=r?ie({color:r,theme:I}):null;return g.jsxs(le,{...v,unstyled:c.unstyled,tabIndex:c.menuItemTabIndex,onFocus:R,...c.getStyles("item",{className:t,style:i,styles:n,classNames:e}),ref:G(x,o),role:"menuitem",disabled:u,"data-menu-item":!0,"data-disabled":u||d||void 0,"data-hovered":c.hovered===T?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:j,onMouseLeave:E,onClick:A,onKeyDown:ye({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y,orientation:"vertical",onKeyDown:k.onKeyDown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:b==null?void 0:b.color,"--menu-item-hover":b==null?void 0:b.hover},children:[p&&g.jsx("div",{...c.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"left",children:p}),f&&g.jsx("div",{...c.getStyles("itemLabel",{styles:n,classNames:e}),children:f}),m&&g.jsx("div",{...c.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"right",children:m})]})});H.classes=C;H.displayName="@mantine/core/MenuItem";const Pe={},q=O((s,o)=>{const{classNames:e,className:t,style:i,styles:n,vars:l,...r}=P("MenuLabel",Pe,s),a=N();return g.jsx(W,{ref:o,...a.getStyles("label",{className:t,style:i,styles:n,classNames:e}),...r})});q.classes=C;q.displayName="@mantine/core/MenuLabel";const Ce={refProp:"ref"},J=D.forwardRef((s,o)=>{const{children:e,refProp:t,...i}=P("MenuTarget",Ce,s);if(!de(e))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const n=N(),l=e.props,r=h(l.onClick,()=>{n.trigger==="click"?n.toggleDropdown():n.trigger==="click-hover"&&(n.setOpenedViaClick(!0),n.opened||n.openDropdown())}),a=h(l.onMouseEnter,()=>(n.trigger==="hover"||n.trigger==="click-hover")&&n.openDropdown()),p=h(l.onMouseLeave,()=>{(n.trigger==="hover"||n.trigger==="click-hover"&&!n.openedViaClick)&&n.closeDropdown()});return g.jsx($.Target,{refProp:t,popupType:"menu",ref:o,...i,children:D.cloneElement(e,{onClick:r,onMouseEnter:a,onMouseLeave:p,"data-expanded":n.opened?!0:void 0})})});J.displayName="@mantine/core/MenuTarget";const Te={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function w(s){const o=P("Menu",Te,s),{children:e,onOpen:t,onClose:i,opened:n,defaultOpened:l,trapFocus:r,onChange:a,closeOnItemClick:p,loop:m,closeOnEscape:f,trigger:u,openDelay:d,closeDelay:v,classNames:c,styles:I,unstyled:y,variant:x,vars:T,menuItemTabIndex:k,keepMounted:E,withInitialFocusPlaceholder:j,...A}=o,R=ue({name:"Menu",classes:C,props:o,classNames:c,styles:I,unstyled:y}),[b,{setHovered:M,resetHovered:Q}]=Me(),[S,z]=ge({value:n,defaultValue:l,finalValue:!1,onChange:a}),[X,B]=D.useState(!1),L=()=>{z(!1),B(!1),S&&(i==null||i())},F=()=>{z(!0),!S&&(t==null||t())},K=()=>{S?L():F()},{openDropdown:Y,closeDropdown:Z}=De({open:F,close:L,closeDelay:v,openDelay:d}),ee=se=>xe("[data-menu-item]","[data-menu-dropdown]",se),{resolvedClassNames:te,resolvedStyles:oe}=fe({classNames:c,styles:I,props:o});return pe(()=>{Q()},[S]),g.jsx(Ie,{value:{getStyles:R,opened:S,toggleDropdown:K,getItemIndex:ee,hovered:b,setHovered:M,openedViaClick:X,setOpenedViaClick:B,closeOnItemClick:p,closeDropdown:u==="click"?L:Z,openDropdown:u==="click"?F:Y,closeDropdownImmediately:L,loop:m,trigger:u,unstyled:y,menuItemTabIndex:k,withInitialFocusPlaceholder:j},children:g.jsx($,{...A,opened:S,onChange:K,defaultOpened:l,trapFocus:E?!1:r,closeOnEscape:f,__staticSelector:"Menu",classNames:te,styles:oe,unstyled:y,variant:x,keepMounted:E,children:e})})}w.extend=s=>s;w.withProps=me(w);w.classes=C;w.displayName="@mantine/core/Menu";w.Item=H;w.Label=q;w.Dropdown=V;w.Target=J;w.Divider=U;export{w as M,ye as a,h as c,De as u};
