import{p as d}from"./with-selector-Dx34AVcc.js";import{r as a}from"./reorder-Cl5rjXcS.js";import{H as i}from"./app-CQeDVQuS.js";import{c}from"./index-DSj5ND_Q.js";const t=(e,s)=>({addTaskGroupLocally:r=>e(d(o=>{o.groups=[...o.groups,r]})),updateTaskGroupLocally:r=>e(d(o=>{const u=s().groups.findIndex(p=>p.id===r.id);o.groups[u]=r})),removeTaskGroupLocally:r=>e(d(o=>{o.groups=o.groups.filter(u=>u.id!==r)})),restoreTaskGroupLocally:r=>e(d(o=>{o.groups=[r,...o.groups.filter(u=>u.id!==r.id)].sort((u,p)=>u.order_column>p.order_column?1:-1)})),reorderTaskGroupLocally:r=>e(d(o=>{o.groups=o.groups.sort((u,p)=>r.indexOf(u.id)-r.indexOf(p.id))}))}),f=c((e,s)=>({...t(e,s),groups:[],setGroups:r=>e(()=>({groups:[...r]})),findTaskGroup:r=>s().groups.find(o=>o.id===r),reorderGroup:(r,o)=>{const u=a(s().groups,r,o);return i.post(route("projects.task-groups.reorder",route().params.project),{ids:u.map(p=>p.id)}).catch(()=>alert("Failed to save task group reorder action")),e(()=>({groups:[...u]}))}}));export{f as u};
