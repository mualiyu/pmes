import{u as M,j as o,B as b,e as D,f as E,h as B,i as F,k as G,r as O,a as f,G as x}from"./app-CQeDVQuS.js";import{C as A}from"./Card-OuSpUZXC.js";import{a as V}from"./route-DnWyDX0p.js";import{r as W}from"./round-CVn1X3Eq.js";import{S as q}from"./Stack-DnbdV9Zg.js";import{T as H}from"./Title-DbfSRF69.js";import{I as J}from"./IconStarFilled-D3VZkSew.js";import{T as g}from"./Text-C7Ogcti-.js";import{T as y}from"./Tooltip-W_kFrwwB.js";import"./Card-DwGgF3HL.js";import"./_baseClone-CRHU6voy.js";import"./createReactComponent-Z0-s2Pq0.js";import"./use-floating-auto-update-DtQKRGxQ.js";import"./get-style-object-DUJZA7T_.js";function K({size:s,thickness:e,sum:t,value:n,root:u,offset:m}){const c=(s*.9-e*2)/2,l=Math.PI*c*2/100,r=u||n===void 0?`${(100-t)*l}, ${t*l}`:`${n*l}, ${(100-n)*l}`;return{strokeWidth:Number.isNaN(e)?12:e,cx:s/2||0,cy:s/2||0,r:c||0,transform:u?`scale(1, -1) translate(0, -${s})`:void 0,strokeDasharray:r,strokeDashoffset:u?0:m||0}}function C({size:s,value:e,offset:t,sum:n,thickness:u,root:m,color:c,lineRoundCaps:l,tooltip:r,getStyles:i,display:a,...d}){const v=M();return o.jsx(y.Floating,{disabled:!r,label:r,children:o.jsx(b,{component:"circle",...d,...i("curve"),__vars:{"--curve-color":c?D(c,v):void 0},fill:"none",strokeLinecap:l?"round":"butt",...K({sum:n,size:s,thickness:u,value:e,offset:t,root:m})})})}C.displayName="@mantine/core/Curve";function L({size:s,thickness:e,sections:t,renderRoundedLineCaps:n,rootColor:u}){const m=t.reduce((a,d)=>a+d.value,0),c=Math.PI*((s*.9-e*2)/2)*2;let l=c;const r=[],i=[];for(let a=0;a<t.length;a+=1)r.push({sum:m,offset:l,data:t[a],root:!1}),l-=t[a].value/100*c;if(r.push({sum:m,offset:l,data:{color:u},root:!0}),i.push({...r[r.length-1],lineRoundCaps:!1}),r.length>2){i.push({...r[0],lineRoundCaps:n}),i.push({...r[r.length-2],lineRoundCaps:n});for(let a=1;a<=r.length-3;a+=1)i.push({...r[a],lineRoundCaps:!1})}else i.push({...r[0],lineRoundCaps:n});return i}var P={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function Q(s,e){return Math.min(s||12,(e||120)/4)}const U={size:120,thickness:12},X=G((s,{size:e,thickness:t,transitionDuration:n})=>({root:{"--rp-size":f(e),"--rp-label-offset":f(t*2),"--rp-transition-duration":n?`${n}ms`:void 0}})),k=E((s,e)=>{const t=B("RingProgress",U,s),{classNames:n,className:u,style:m,styles:c,unstyled:l,vars:r,label:i,sections:a,size:d,thickness:v,roundCaps:R,rootColor:T,transitionDuration:ss,...j}=t,p=F({name:"RingProgress",classes:P,props:t,className:u,style:m,classNames:n,styles:c,unstyled:l,vars:r,varsResolver:X}),_=Q(v,d),w=L({size:d,thickness:_,sections:a,renderRoundedLineCaps:R,rootColor:T}).map(({data:h,sum:$,root:N,lineRoundCaps:z,offset:I},S)=>O.createElement(C,{...h,key:S,size:d,thickness:_,sum:$,offset:I,color:h==null?void 0:h.color,root:N,lineRoundCaps:z,getStyles:p}));return o.jsxs(b,{...p("root"),size:d,ref:e,...j,children:[o.jsx("svg",{...p("svg"),children:w}),i&&o.jsx("div",{...p("label"),children:i})]})});k.classes=P;k.displayName="@mantine/core/RingProgress";const Y="_link_18oo3_1",Z={link:Y};function fs({project:s}){let e=0,t=0;return s.all_tasks_count>0&&(e=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100),o.jsx(A,{bg:"none",children:o.jsxs(x,{justify:"space-between",wrap:"nowrap",children:[o.jsxs(q,{gap:6,children:[o.jsx(x,{justify:"space-between",children:o.jsxs(H,{fz:24,onClick:()=>V("projects.tasks",s.id),className:Z.link,children:[s.favorite&&o.jsx(J,{style:{color:"var(--mantine-color-yellow-4)",width:f(15),height:f(15),marginRight:10}}),s.name]})}),o.jsx(g,{fz:"xs",fw:700,c:"dimmed",mb:4,children:s.client_company.name}),o.jsx("div",{children:o.jsx(y,{label:"Completed tasks",openDelay:500,withArrow:!0,children:o.jsxs(g,{fz:"lg",fw:500,inline:!0,span:!0,children:["Tasks: ",s.completed_tasks_count," / ",s.all_tasks_count]})})})]}),o.jsx(k,{size:100,thickness:10,sections:[{value:100-(e+t),color:"gray"},{value:t,color:"red",tooltip:`Overdue: ${s.overdue_tasks_count}`},{value:e,color:"#2c3999",tooltip:`Completed: ${s.completed_tasks_count}`}],label:o.jsxs(g,{fz:15,fw:700,ta:"center",children:[W(e),"%"]})})]})})}export{fs as ProjectCard};
