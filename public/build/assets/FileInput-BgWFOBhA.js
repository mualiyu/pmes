import{r as f,h as b,aq as M,j as t,$ as B,f as U,Z}from"./app-CQeDVQuS.js";import{u as G}from"./use-resolved-styles-api-BXRJnP4G.js";import{I as H}from"./Input-BpqpINKS.js";import{I as V}from"./InputBase-BmeHhBbi.js";import{u as J}from"./use-uncontrolled-DDoK6Wjp.js";const K={multiple:!1},w=f.forwardRef((e,o)=>{const{onChange:r,children:i,multiple:m,accept:d,name:h,form:y,resetRef:a,disabled:g,capture:x,inputProps:C,...j}=b("FileButton",K,e),l=f.useRef(null),F=()=>{var n;!g&&((n=l.current)==null||n.click())},u=n=>{r(m?Array.from(n.currentTarget.files):n.currentTarget.files[0]||null)};return M(a,()=>{l.current&&(l.current.value="")}),t.jsxs(t.Fragment,{children:[t.jsx("input",{style:{display:"none"},type:"file",accept:d,multiple:m,onChange:u,ref:B(o,l),name:h,form:y,capture:x,...C}),i({onClick:F,...j})]})});w.displayName="@mantine/core/FileButton";const L=({value:e})=>t.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(o=>o.name).join(", "):e==null?void 0:e.name}),Q={valueComponent:L},I=U((e,o)=>{const r=b("FileInput",Q,e),{unstyled:i,vars:m,onChange:d,value:h,defaultValue:y,multiple:a,accept:g,name:x,form:C,valueComponent:j,clearable:l,clearButtonProps:F,readOnly:u,capture:R,fileInputProps:n,rightSection:N,size:P,placeholder:k,component:E,resetRef:O,classNames:A,styles:_,...T}=r,c=f.useRef(null),{resolvedClassNames:$,resolvedStyles:q}=G({classNames:A,styles:_,props:r}),[s,S]=J({value:h,defaultValue:y,onChange:d,finalValue:a?[]:null}),v=Array.isArray(s)?s.length!==0:s!==null,z=N||(l&&v&&!u?t.jsx(Z,{...F,variant:"subtle",onClick:()=>S(a?[]:null),size:P,unstyled:i}):null);f.useEffect(()=>{var p;(Array.isArray(s)&&s.length===0||s===null)&&((p=c.current)==null||p.call(c))},[s]);const D=j;return t.jsx(w,{onChange:S,multiple:a,accept:g,name:x,form:C,resetRef:B(c,O),disabled:u,capture:R,inputProps:n,children:p=>t.jsx(V,{component:E||"button",ref:o,rightSection:z,...p,...T,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:r,unstyled:i,size:P,classNames:A,styles:_,children:v?t.jsx(D,{value:s}):t.jsx(H.Placeholder,{__staticSelector:"FileInput",classNames:$,styles:q,children:k})})})});I.classes=V.classes;I.displayName="@mantine/core/FileInput";const se=I;export{se as F};
